# Contributor: oliparcol <oliparcol AT gmail DOT com>
_pkgname=ruby-jekyll
pkgname=$_pkgname-jjk
pkgver=0.12.1
pkgrel=1
pkgdesc="Jekyll is a simple, blog aware, static site generator."
arch=(any)
url="http://jekyllrb.com/"
license=('MIT')
depends=(ruby
        'ruby-classifier>=1.3.1'
        'ruby-directory_watcher>=1.1.1'
        'ruby-kramdown>=0.13.4'
        'ruby-liquid>=2.3.0'
        'ruby-rdiscount'
        'ruby-pygments.rb>=0.3.2')
makedepends=(rubygems)
provides=($_pkgname)
conflicts=($_pkgname)
source=(http://rubygems.org/downloads/jekyll-$pkgver.gem
        LICENSE)
noextract=(jekyll-$pkgver.gem)
md5sums=('361f04be6f622fc6c42ee61d19d5655b'
         'e0536661da750ea371220479a8a1746b')
package() {
        cd $srcdir
        local _gemdir="$(ruby -rubygems -e'puts Gem.default_dir')"

        gem install --ignore-dependencies -i "$pkgdir$_gemdir" jekyll-$pkgver.gem -n "$pkgdir/usr/bin"

        install -Dm644 LICENSE "$pkgdir/usr/share/licenses/$pkgname/LICENSE"
}
