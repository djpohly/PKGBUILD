From 146fcd63a63232ca564a2ec153280d8c96c3622c Mon Sep 17 00:00:00 2001
From: Olivier Brunel <jjk@jjacky.com>
Date: Sun, 12 Jul 2015 17:47:57 +0200
Subject: [PATCH 1/3] GTK renamed :active with :checked

Signed-off-by: Olivier Brunel <jjk@jjacky.com>
---
 gtk-3.0/csd.css                 | 28 ++++++++++++------------
 gtk-3.0/gtk-widgets.css         | 48 ++++++++++++++++++++---------------------
 gtk-3.0/lightdm-gtk-greeter.css |  6 +++---
 gtk-3.0/panel.css               |  4 ++--
 4 files changed, 43 insertions(+), 43 deletions(-)

diff --git a/gtk-3.0/csd.css b/gtk-3.0/csd.css
index bb83d0c..b716ff7 100644
--- a/gtk-3.0/csd.css
+++ b/gtk-3.0/csd.css
@@ -62,7 +62,7 @@
     border-left-color: shade(@headerbar_borders, 0.98);
 }
 
-.header-bar .button:active {
+.header-bar .button:checked {
     background-image: linear-gradient(to bottom,
                                      shade(@menubar_bg_selected,  0.97),
                                      shade(@menubar_bg_selected, 1.05));
@@ -74,17 +74,17 @@
                 inset 1px 0 alpha(@headerbar_dark_shadow, 0.05);
 }
 
-.header-bar .linked .button:active {
+.header-bar .linked .button:checked {
     box-shadow: inset 0 1px alpha(@headerbar_dark_shadow, 0.1),
                 inset -1px 0 @headerbar_borders,
                 inset 1px 0 alpha(@headerbar_dark_shadow, 0.05);
 }
 
 /* remove right box shadow from last-child and only-child */
-.header-bar .linked .entry:last-child:active,
-.header-bar .linked .button:last-child:active,
-.header-bar .linked .entry:only-child:active,
-.header-bar .linked .button:only-child:active {
+.header-bar .linked .entry:last-child:checked,
+.header-bar .linked .button:last-child:checked,
+.header-bar .linked .entry:only-child:checked,
+.header-bar .linked .button:only-child:checked {
     box-shadow: inset 0 1px alpha(@headerbar_dark_shadow, 0.1),
                 inset 1px 0 alpha(@headerbar_dark_shadow, 0.05);
 }
@@ -108,7 +108,7 @@
                                      shade(@headerbar_bg_hover, 0.97));
 }
 
-.header-bar .button:hover:active {
+.header-bar .button:hover:checked {
     color: @menubar_fg_normal;
     background-image: linear-gradient(to bottom,
                                      shade(@menubar_bg_selected, 1.02),
@@ -116,7 +116,7 @@
 }
 
 .header-bar .button:hover,
-.header-bar .button:hover:active {
+.header-bar .button:hover:checked {
     border-top-color: @menubar_border_hover;
     border-right-color: shade(@menubar_border_hover, 0.95);
     border-bottom-color: shade(@menubar_border_hover, 0.9);
@@ -182,8 +182,8 @@
     box-shadow: none;
 }
 
-.titlebar .titlebutton:active,
-.titlebar .titlebutton:active:hover {
+.titlebar .titlebutton:checked,
+.titlebar .titlebutton:checked:hover {
     background: none;
     icon-shadow: 0 1px @headerbar_light_shadow;
     box-shadow: none;
@@ -204,10 +204,10 @@
     icon-shadow: 0 1px darker(@titlebutton_close_hover);
 }
 
-.titlebar .left .titlebutton:first-child:active,
-.titlebar .right .titlebutton:last-child:active,
-.titlebar .left .titlebutton:first-child:active:focus,
-.titlebar .right .titlebutton:last-child:active:focus {
+.titlebar .left .titlebutton:first-child:checked,
+.titlebar .right .titlebutton:last-child:checked,
+.titlebar .left .titlebutton:first-child:checked:focus,
+.titlebar .right .titlebutton:last-child:checked:focus {
     color: @titlebutton_close_hover;
     icon-shadow: 0 1px @headerbar_light_shadow;
 }
diff --git a/gtk-3.0/gtk-widgets.css b/gtk-3.0/gtk-widgets.css
index 08ec61e..4f8f671 100644
--- a/gtk-3.0/gtk-widgets.css
+++ b/gtk-3.0/gtk-widgets.css
@@ -104,7 +104,7 @@
     color: @fg_color;
 }
 
-.gtkstyle-fallback:active {
+.gtkstyle-fallback:checked {
     background-color: shade(@bg_color, 0.90);
     color: @fg_color;
 }
@@ -281,7 +281,7 @@ GtkSwitch.slider,
 }
 
 GtkLinkButton.button,
-GtkLinkButton.button:active {
+GtkLinkButton.button:checked {
     text-shadow: none;
 }
 
@@ -303,7 +303,7 @@ GtkComboBox:insensitive,
     box-shadow: none;
 }
 
-.button:active, .toolbar .button:active, .button.default:active {
+.button:checked, .toolbar .button:checked, .button.default:checked {
     background-image: linear-gradient(to bottom,
                                      shade(@bg_active,  0.97),
                                      shade(@bg_active, 1.05));
@@ -315,7 +315,7 @@ GtkComboBox:insensitive,
                 inset 1px 0 alpha(@dark_shadow, 0.05);
 }
 
-GtkSwitch.trough:active {
+GtkSwitch.trough:checked {
     background-image: linear-gradient(to bottom,
                                     shade(@selected_bg_color, 0.97),
                                     shade(@selected_bg_color, 1.05));
@@ -329,7 +329,7 @@ GtkSwitch.trough:active {
                                      shade(@bg_hover, 0.97));
 }
 
-.button:hover:active {
+.button:hover:checked {
     background-image: linear-gradient(to bottom,
                                      shade(@bg_active, 1.02),
                                      shade(@bg_active, 1.1));
@@ -426,7 +426,7 @@ GtkSwitch {
     font: bold;
 }
 
-GtkSwitch:active {
+GtkSwitch:checked {
     border-radius: 0 3px 3px 0;
     font: bold;
 }
@@ -495,15 +495,15 @@ column-header:last-child .button {
                 inset 1px 0 alpha(@light_shadow, 0.2);
 }
 
-.linked .button:active {
+.linked .button:checked {
     box-shadow: inset 0 1px alpha(@dark_shadow, 0.1),
                 inset -1px 0 @borders,
                 inset 1px 0 alpha(@dark_shadow, 0.05);
 }
 
 /* remove right box shadow from last-child and only-child */
-.linked .entry:last-child:active, .linked .button:last-child:active,
-.linked .entry:only-child:active, .linked .button:only-child:active {
+.linked .entry:last-child:checked, .linked .button:last-child:checked,
+.linked .entry:only-child:checked, .linked .button:only-child:checked {
     box-shadow: inset 0 1px alpha(@dark_shadow, 0.1),
                 inset 1px 0 alpha(@dark_shadow, 0.05);
 }
@@ -517,12 +517,12 @@ GtkCheckButton.check, GtkCheckButton.radio {
     -GtkWidget-focus-line-pattern: "\1\1";
 }
 
-GtkCheckButton.check:active, GtkCheckButton.radio:active {
+GtkCheckButton.check:checked, GtkCheckButton.radio:checked {
     color: @text_color;
     background-color: @selected_bg_color;
 }
 
-GtkCheckButton:hover, GtkCheckButton:active:hover,
+GtkCheckButton:hover, GtkCheckButton:checked:hover,
 GtkCheckButton:selected, GtkCheckButton:selected {
     color: @selected_fg_color;
 }
@@ -556,7 +556,7 @@ GtkCheckButton.check:inconsistent, GtkCheckButton.radio:inconsistent {
     background-image: none;
 }
 
-.app-notification .button:active {
+.app-notification .button:checked {
     background-color: mix(@tooltip_bg_color, shade(@selected_bg_color, 0.8), 0.5);
     background-image: none;
 }
@@ -661,7 +661,7 @@ GtkLevelBar.vertical {
     border-style: solid;
 }
 
-.scrollbar.button:active {
+.scrollbar.button:checked {
     background-image: none;
     background-color: @bg_active;
     border-style: solid;
@@ -809,7 +809,7 @@ GtkScale.slider.mark {
     border-color: mix(@fg_color, @bg_color, 0.8);
 }
 
-.notebook tab:active {
+.notebook tab:checked {
     padding: 5px 5px 2px 5px;
     color: @text_color;
     background-image: linear-gradient(to bottom,
@@ -822,7 +822,7 @@ GtkScale.slider.mark {
     border-bottom-width: 0;
 }
 
-.notebook tab.top:active {
+.notebook tab.top:checked {
     box-shadow: inset 0 2px shade(@selected_bg_color, 0.9);
 }
 
@@ -835,7 +835,7 @@ GtkScale.slider.mark {
     border-radius: 0 3px 3px 0;
 }
 
-.notebook tab.right:active {
+.notebook tab.right:checked {
     padding: 3px 7px 3px 5px;
     background-image: linear-gradient(to left,
                                      shade(@notebook_active, 1.06),
@@ -852,7 +852,7 @@ GtkScale.slider.mark {
     border-radius: 0 0 3px 3px;
 }
 
-.notebook tab.bottom:active {
+.notebook tab.bottom:checked {
     padding: 2px 5px 5px 5px;
     background-image: linear-gradient(to top,
                                      shade(@notebook_active, 1.06),
@@ -869,7 +869,7 @@ GtkScale.slider.mark {
     border-radius: 3px 0 0 3px;
 }
 
-.notebook tab.left:active {
+.notebook tab.left:checked {
     padding: 3px 5px 3px 7px;
     background-image: linear-gradient(to right,
                                      shade(@notebook_active, 1.06),
@@ -932,7 +932,7 @@ GtkScale.slider.mark {
     border-top-color: shade(@border_selected, 0.95);
 }
 
-.button:hover, .button:hover:focus, .button:hover:active, GtkSwitch:hover,
+.button:hover, .button:hover:focus, .button:hover:checked, GtkSwitch:hover,
 .check:hover, .radio:hover {
     border-top-color: @border_selected;
     border-right-color: shade(@border_selected, 0.95);
@@ -1033,12 +1033,12 @@ column-header .button:hover, column-header .button:hover:focus {
     border-color: mix(@menu_fg_normal, @menu_bg_normal, 0.9);
 }
 
-.menu.button:active, .menuitem.button:active {
+.menu.button:checked, .menuitem.button:checked {
     background-color: mix(@menu_bg_normal, shade(@selected_bg_color, 0.8), 0.5);
     border-color: shade(@menu_bg_normal, 0.8);
 }
 
-.menu *:hover, .menu *:active:hover, .menu *:selected {
+.menu *:hover, .menu *:checked:hover, .menu *:selected {
     color: @menu_fg_selected;
 }
 
@@ -1053,7 +1053,7 @@ column-header .button:hover, column-header .button:hover:focus {
     text-shadow: 1px 1px shade(@menu_bg_normal, 1.05);
 }
 
-.menuitem:hover, .menuitem:hover:active, .menu:hover {
+.menuitem:hover, .menuitem:hover:checked, .menu:hover {
     border: solid;
     border-width: 1px;
     background-image: none;
@@ -1063,7 +1063,7 @@ column-header .button:hover, column-header .button:hover:focus {
 
 GtkPopover .check, GtkPopover .radio,
 GtkPopover .check:hover, GtkPopover .radio:hover,
-GtkPopover .check:hover:active, GtkPopover .radio:hover:active,
+GtkPopover .check:hover:checked, GtkPopover .radio:hover:checked,
 GtkPopover .check:insensitive, GtkPopover .radio:insensitive,
 .menuitem .check, .menuitem .radio,
 .menuitem .check:hover, .menuitem .radio:hover,
@@ -1099,7 +1099,7 @@ GtkPopover > .toolbar {
     background-color: transparent;
 }
 
-GtkModelButton.button:active:hover,
+GtkModelButton.button:checked:hover,
 GtkModelButton.button:hover,
 GtkModelButton.button:selected,
 GtkModelButton.button {
diff --git a/gtk-3.0/lightdm-gtk-greeter.css b/gtk-3.0/lightdm-gtk-greeter.css
index 4a2218d..196fc30 100644
--- a/gtk-3.0/lightdm-gtk-greeter.css
+++ b/gtk-3.0/lightdm-gtk-greeter.css
@@ -55,9 +55,9 @@
     border-color: @border_selected;
 }
 
-#cancel_button:active,
-#login_button:active,
-#login_window .button:active {
+#cancel_button:checked,
+#login_button:checked,
+#login_window .button:checked {
     background-color: mix(@panel_bg_normal, shade(@selected_bg_color, 0.8), 0.25);
     border-color: @panel_button_border;
 }
diff --git a/gtk-3.0/panel.css b/gtk-3.0/panel.css
index f3c8236..7f47a9f 100644
--- a/gtk-3.0/panel.css
+++ b/gtk-3.0/panel.css
@@ -34,7 +34,7 @@ PanelApplet .button {
     border-left-color: alpha(@panel_button_border, 0.9);
 }
 
-PanelApplet .button:active {
+PanelApplet .button:checked {
     color: @panel_fg_selected;
     background-image: linear-gradient(to bottom,
                                      shade(@panel_bg_active, 1.05),
@@ -45,7 +45,7 @@ PanelApplet .button:active {
     border-left-color: @border_selected;
 }
 
-PanelApplet .button:prelight, PanelApplet .button:active:prelight  {
+PanelApplet .button:prelight, PanelApplet .button:checked:prelight  {
     color: @panel_fg_selected;
     background-image: linear-gradient(to bottom,
                                      shade(@panel_bg_prelight, 1.05),
-- 
2.4.5

