# Maintainer: jjacky
pkgname=kalu
pkgver=0.0.0
pkgrel=1
pkgdesc="Keep Arch Linux Up-to-date -- an upgrade notifier for Arch Linux [BETA]"
arch=('i686' 'x86_64')
url="https://bitbucket.org/jjacky/kalu"
license=('GPL3+')
depends=('dbus' 'polkit' 'gtk3' 'pacman>=4.0.1' 'curl' 'libnotify')
makedepends=('pkg-config')
#source=(https://bitbucket.org/jjacky/$pkgname/get/$pkgver.tar.gz)
#md5sums=()

build() {
  cd "$srcdir"

  # download & extract tip
  wget https://bitbucket.org/jjacky/$pkgname/get/tip.tar.gz
  tar xzf tip.tar.gz

  # archive is auto-generated by bitbucket, so name includes last commit
  _dir=$(ls | grep jjacky-$pkgname-)
  # moving it all in srcdir
  mv $_dir/* .
  # removing e.g. .hg_archival.txt or .hgtags
  rm -f $_dir/.hg*
  rmdir $_dir
  make
}

package() {
  cd "$srcdir"
  make DESTDIR="$pkgdir/" install
}

# vim:set ts=2 sw=2 et:
